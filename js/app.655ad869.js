(function(){"use strict";var e={1923:function(e,t,s){var l=s(9242),n=s(3396),o=s(7139),i=s(4870),r=s(734),a=(0,n.aZ)({__name:"App",setup(e){return(e,t)=>{const s=(0,n.up)("router-link"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",null,[(0,n._)("nav",{class:(0,o.C_)(e.$style.nav)},[(0,n.Wm)(s,{to:{name:"home"},class:(0,o.C_)([e.$style.link,e.$style.linkHome])},{default:(0,n.w5)((()=>[(0,n.Uk)(" Мои расходы ")])),_:1},8,["class"]),(0,n.Wm)(s,{to:{name:"family"},class:(0,o.C_)([e.$style.link,e.$style.linkDefault])},{default:(0,n.w5)((()=>[(0,n.Uk)(" Семья ")])),_:1},8,["class"]),(0,n.Wm)(s,{to:{name:"categories"},class:(0,o.C_)([e.$style.link,e.$style.linkDefault])},{default:(0,n.w5)((()=>[(0,n.Uk)(" Категории ")])),_:1},8,["class"])],2)]),(0,n._)("main",null,[(0,n.Wm)(l)]),(0,n.Wm)((0,i.SU)(r.Lu))],64)}}}),c={nav:"App_nav_wpvVx",link:"App_link_vUNmf",linkHome:"App_linkHome_HdWBI",linkDefault:"App_linkDefault_CNvp6"},u=s(89);const _={};_["$style"]=c;const p=(0,u.Z)(a,[["__cssModules",_]]);var d=p,m=s(2483),f=s(1020);const y=()=>{let e=0;return()=>e++},g=(e,t)=>Math.random()*(t-e)+e,v=(e,t)=>Math.floor(g(e,t)),h=e=>e[v(0,e.length)],w=(e,t)=>{const s=e.slice().sort((()=>Math.random()-.5));return s.slice(0,Math.max(t,e.length)-1)},C=y(),$=e=>{const t=e.id??C();return{id:t,title:`Категория # ${t}`,color:h(["red","blue","green","orange"]),...e}},k=(0,f.Q_)("expense-categories",{state:()=>({items:[$({title:"Развлечения",color:"red"}),$({title:"Магазины",color:"orange"}),$({title:"Аптеки",color:"green"})]}),actions:{}});var b=(0,n.aZ)({__name:"ExpensesListItemCategories",props:{categories:null},setup(e){const t=e,s=k(),l=(0,n.Fl)((()=>s.items.filter((e=>t.categories?.includes(e.id)))));return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(e.$style.el)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(l),(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:(0,o.C_)(e.$style.category)},[(0,n._)("div",{class:(0,o.C_)(e.$style.color),style:(0,o.j5)({"--color":t.color})},null,6),(0,n._)("span",{class:(0,o.C_)(e.$style.title)},(0,o.zw)(t.title),3)],2)))),128))],2))}}),E={el:"ExpensesListItemCategories_el_l3k4U",category:"ExpensesListItemCategories_category_FpVKW",color:"ExpensesListItemCategories_color_Z4JUf",title:"ExpensesListItemCategories_title_A4N9F"};const x={};x["$style"]=E;const M=(0,u.Z)(b,[["__cssModules",x]]);var L=M,I=(0,n.aZ)({__name:"ExpensesListItem",props:{item:null},setup(e){return(t,s)=>((0,n.wg)(),(0,n.iD)("li",{class:(0,o.C_)(t.$style.el)},[(0,n._)("div",{class:(0,o.C_)(t.$style.head)},[(0,n._)("div",{class:(0,o.C_)(t.$style.title)},(0,o.zw)(e.item.title),3),(0,n.Wm)(L,{categories:e.item?.categories},null,8,["categories"])],2),(0,n._)("div",{class:(0,o.C_)(t.$style.total)},[(0,n._)("span",null,(0,o.zw)(e.item.total)+" ₽",1)],2)],2))}}),O={el:"ExpensesListItem_el_dzgPr",head:"ExpensesListItem_head_LcTd3",title:"ExpensesListItem_title_ftwZX",categories:"ExpensesListItem_categories_m6YCI",category:"ExpensesListItem_category_ubtcm",categoryColor:"ExpensesListItem_categoryColor_Oj2B7",categoryTitle:"ExpensesListItem_categoryTitle_uProT",total:"ExpensesListItem_total_HW9Iz"};const Z={};Z["$style"]=O;const D=(0,u.Z)(I,[["__cssModules",Z]]);var U=D,W=(0,n.aZ)({__name:"ExpensesList",props:{items:null},setup(e){return(t,s)=>((0,n.wg)(),(0,n.iD)("ul",{class:(0,o.C_)(t.$style.el)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.items,(e=>((0,n.wg)(),(0,n.j4)(U,{key:e.id,item:e},null,8,["item"])))),128))],2))}}),j={el:"ExpensesList_el_VuWjO"};const A={};A["$style"]=j;const F=(0,u.Z)(W,[["__cssModules",A]]);var B=F;s(7658);const S=y(),H=e=>{const t=e.id??S(),s=k();return console.log(h(s.items),s.items),{id:t,title:`Расход # ${t}`,total:Number((1e3*Math.random()).toFixed(2)),categories:w(s.items,v(0,s.items.length)).map((e=>e.id)),...e}},T=(0,f.Q_)("expenses",{state:()=>({items:[H({title:"Ипотека"}),H({title:"Магазин"}),H({title:"Шиномонтаж"}),H({title:"Кино"}),H({title:"Аптека"})]}),actions:{getItems(e){return this.items.filter((t=>!e.categories?.length||t.categories.some((t=>e.categories?.includes(t)))))},getEmpty(){return{id:Math.ceil(1e3*Math.random()),categories:[]}},add(e){this.items.push(e),console.log(this.items)}}}),V=e=>e.split(",").filter((e=>""!==e)),P=e=>e.join(","),N=(e,t,s)=>{const{[t]:l="",...n}=e,o=V(String(l)),i=o.indexOf(s);let r=!1;return i>-1?(r=!0,o.splice(i,1)):o.push(s),o.length&&(n[t]=P(o)),{isActive:r,query:n}};var Y=(0,n.aZ)({__name:"ExpensesFilterListItem",props:{category:null},setup(e){const t=e,s=(0,m.tv)(),l=(0,m.yj)(),r=(0,n.Fl)((()=>{const{isActive:e,query:n}=N(l.query,"categories",`${t.category.id}`);return{isActive:e,route:s.resolve({path:l.path,query:n})}}));return(t,s)=>{const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("li",null,[(0,n.Wm)(l,{to:(0,i.SU)(r).route,class:(0,o.C_)([t.$style.link,{[t.$style.active]:(0,i.SU)(r).isActive}])},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.category.title),1)])),_:1},8,["to","class"])])}}}),q={link:"ExpensesFilterListItem_link_bOWTk",active:"ExpensesFilterListItem_active_O6lHJ"};const z={};z["$style"]=q;const K=(0,u.Z)(Y,[["__cssModules",z]]);var Q=K,J=(0,n.aZ)({__name:"ExpensesFilterList",setup(e){const t=k();return(e,s)=>((0,n.wg)(),(0,n.iD)("ul",{class:(0,o.C_)(e.$style.el)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(t).items,(e=>((0,n.wg)(),(0,n.j4)(Q,{key:e.id,category:e},null,8,["category"])))),128))],2))}}),G={el:"ExpensesFilterList_el_ysd_4"};const X={};X["$style"]=G;const R=(0,u.Z)(J,[["__cssModules",X]]);var ee=R,te=(0,n.aZ)({__name:"ExpensesFilter",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(e.$style.el)},[(0,n.Uk)(" Фильтры: "),(0,n._)("div",{class:(0,o.C_)(e.$style.content)},[(0,n.Wm)(ee)],2)],2))}}),se={el:"ExpensesFilter_el_Kx9Gt"};const le={};le["$style"]=se;const ne=(0,u.Z)(te,[["__cssModules",le]]);var oe=ne;function ie(e,t){return(0,n.wg)(),(0,n.iD)("button",{class:(0,o.C_)(e.$style.el)},[(0,n.WI)(e.$slots,"default")],2)}var re={el:"BaseButton_el_wnAsg"};const ae={},ce={};ce["$style"]=re;const ue=(0,u.Z)(ae,[["render",ie],["__cssModules",ce]]);var _e=ue,pe=(0,n.aZ)({__name:"BaseModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const s=()=>t("close");return(t,l)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)([t.$style.el,{[t.$style.open]:e.isOpen}])},[(0,n._)("div",{class:(0,o.C_)(t.$style.modal)},[(0,n.Wm)(_e,{onClick:s,class:(0,o.C_)(t.$style.closeButton)},{default:(0,n.w5)((()=>[(0,n.Uk)("Назад")])),_:1},8,["class"]),(0,n._)("div",null,[(0,n.WI)(t.$slots,"default",{close:s})])],2)],2))}}),de={el:"BaseModal_el_NCgSC",open:"BaseModal_open_CQCpv",closeButton:"BaseModal_closeButton_lQt30",modal:"BaseModal_modal_siLFV"};const me={};me["$style"]=de;const fe=(0,u.Z)(pe,[["__cssModules",me]]);var ye=fe;const ge=(0,n._)("span",null,"Название расхода",-1),ve=(0,n._)("span",null,"Описание расхода",-1),he=(0,n._)("span",null,"Категория расхода",-1),we=(0,n._)("br",null,null,-1),Ce=["value"],$e=(0,n._)("span",null,"Сколько было потрачено",-1);var ke=(0,n.aZ)({__name:"ExpensesAddModal",props:{modelValue:{type:Boolean},close:{type:Function}},setup(e){const t=e,s=T(),r=k(),a=(0,i.iH)({}),c=()=>{a.value=s.getEmpty()},u=()=>{s.add(a.value),t.close()};return(0,n.YP)((()=>t.modelValue),(()=>{c()})),(t,s)=>((0,n.wg)(),(0,n.j4)(ye,{isOpen:e.modelValue,onClose:e.close},{default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,o.C_)(t.$style.el)},[(0,n._)("div",{class:(0,o.C_)(t.$style.formElement)},[(0,n._)("label",null,[ge,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.title=e)},null,512),[[l.nr,a.value.title]])])],2),(0,n._)("div",{class:(0,o.C_)(t.$style.formElement)},[(0,n._)("label",null,[ve,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":s[1]||(s[1]=e=>a.value.description=e)},null,512),[[l.nr,a.value.description]])])],2),(0,n._)("div",{class:(0,o.C_)(t.$style.formElement)},[(0,n._)("label",null,[he,we,(0,n.wy)((0,n._)("select",{multiple:"","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.categories=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(r).items,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id},(0,o.zw)(e.title),9,Ce)))),128))],512),[[l.bM,a.value.categories]])])],2),(0,n._)("div",{class:(0,o.C_)(t.$style.formElement)},[(0,n._)("label",null,[$e,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>a.value.total=e)},null,512),[[l.nr,a.value.total]])])],2),(0,n.Wm)(_e,{onClick:u},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить")])),_:1})],2)])),_:1},8,["isOpen","onClose"]))}}),be={el:"ExpensesAddModal_el_pyoFh",formElement:"ExpensesAddModal_formElement_p9KDy"};const Ee={};Ee["$style"]=be;const xe=(0,u.Z)(ke,[["__cssModules",Ee]]);var Me=xe,Le=(0,n.aZ)({__name:"ExpensesAdd",setup(e){const{open:t,close:s}=(0,r.dd)({component:Me,attrs:{close(){s()}}});return(e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(e.$style.el)},[(0,n.Wm)(_e,{class:(0,o.C_)(e.$style.button),onClick:(0,i.SU)(t)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Добавить новый расход ")])),_:1},8,["class","onClick"])],2))}}),Ie={el:"ExpensesAdd_el_DiJQ8"};const Oe={};Oe["$style"]=Ie;const Ze=(0,u.Z)(Le,[["__cssModules",Oe]]);var De=Ze,Ue=(0,n.aZ)({__name:"ExpensesView",setup(e){const t=T(),s=(0,m.yj)(),l=(0,n.Fl)((()=>{const e=s.query?.categories?V(String(s.query.categories)):[];return t.getItems({categories:e.map((e=>+e))})}));return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(oe),(0,n.Wm)(De),(0,n.Wm)(B,{items:(0,i.SU)(l)},null,8,["items"])],64))}});const We=Ue;var je=We;const Ae=[{path:"/",name:"home",component:je},{path:"/categories",name:"categories",component:()=>s.e(267).then(s.bind(s,2333))},{path:"/family",name:"family",component:()=>s.e(471).then(s.bind(s,4992))}],Fe=(0,m.p7)({history:(0,m.PO)("/tf-app/"),routes:Ae});var Be=Fe;const Se=(0,f.WB)(),He=(0,r.Qs)();(0,l.ri)(d).use(Be).use(Se).use(He).mount("#app")}},t={};function s(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,l,n,o){if(!l){var i=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],o=e[u][2];for(var r=!0,a=0;a<l.length;a++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](l[a])}))?l.splice(a--,1):(r=!1,o<i&&(i=o));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,n,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,l){return s.f[l](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+{267:"categories",471:"family"}[e]+"."+{267:"b242bc41",471:"ff42f364"}[e]+".js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="tf-app:";s.l=function(l,n,o,i){if(e[l])e[l].push(n);else{var r,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var _=c[u];if(_.getAttribute("src")==l||_.getAttribute("data-webpack")==t+o){r=_;break}}r||(a=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+o),r.src=l),e[l]=[n];var p=function(t,s){r.onerror=r.onload=null,clearTimeout(d);var n=e[l];if(delete e[l],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(s)})),t)return t(s)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),a&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/tf-app/"}(),function(){var e={143:0};s.f.j=function(t,l){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)l.push(n[2]);else{var o=new Promise((function(s,l){n=e[t]=[s,l]}));l.push(n[2]=o);var i=s.p+s.u(t),r=new Error,a=function(l){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=l&&("load"===l.type?"missing":l.type),i=l&&l.target&&l.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",r.name="ChunkLoadError",r.type=o,r.request=i,n[1](r)}};s.l(i,a,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],r=l[1],a=l[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(a)var u=a(s)}for(t&&t(l);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},l=self["webpackChunktf_app"]=self["webpackChunktf_app"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[998],(function(){return s(1923)}));l=s.O(l)})();
//# sourceMappingURL=app.655ad869.js.map